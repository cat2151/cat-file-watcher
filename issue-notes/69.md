# issue tomlで terminate_if_process を指定できるようにする #69
[issues #69](https://github.com/cat2151/cat-file-watcher/issues/69)

## 実装完了

### 実装内容

1. **ProcessDetector の拡張**
   - `get_all_matching_processes()`: 正規表現にマッチする全プロセスをPIDと名前のリストで取得
   - `terminate_process()`: 指定PIDにterminateシグナルを送信

2. **CommandExecutor の拡張**
   - `terminate_if_process` 設定のサポート
   - 設定検証（ファイル名が空、commandが未指定であることを確認）
   - プロセス終了処理の実装（`_handle_process_termination()`）

3. **FileWatcher の更新**
   - `terminate_if_process` 使用時の設定検証を早期に実行
   - `command` フィールドが `terminate_if_process` 使用時にオプショナルになるように変更

### 安全機能

- **Fail-fast system**: 不正な設定（空でないファイル名、commandフィールドが設定されている）を検出したら、エラーログ出力して処理をスキップ
- **Safety-first**: マッチするプロセスが2件以上の場合は警告を出力し、terminateしない
- **ログ出力**: すべてのアクション（終了、警告）をコンソールとerror_logファイルに記録

### 使用例

```toml
default_interval = "1s"
error_log_file = "error.log"

[files]
# 1分ごとにプロセスを監視し、マッチしたら終了
"" = { terminate_if_process = "unwanted_process", interval = "60s" }

# 特定時間帯のみプロセスを終了
"" = { terminate_if_process = "batch_cleanup", interval = "60s", time_period = "night_shift" }
```

### テスト

- 10個の新規テストケースを追加
- すべての既存テスト（138個）も含めて148個のテストがパス
- 以下のシナリオをテスト:
  - 単一プロセスの終了
  - マッチなしの場合
  - 複数プロセスマッチ時の警告
  - 不正な設定（空でないファイル名、commandフィールド）のエラー処理
  - インターバルの遵守
  - ProcessDetectorの新機能

### 検証

手動テストで以下を確認:
- 単一プロセスが正常に終了される
- 複数プロセスマッチ時に警告が表示され、終了されない
- すべてのログが正しく記録される
