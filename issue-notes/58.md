# issue tomlのミリ秒形式を削除する。影響のあるdocumentも修正する #58
[issues #58](https://github.com/cat2151/cat-file-watcher/issues/58)

## 結論 / Conclusion

TOMLファイルのintervalにおける、ミリ秒（整数値）のサポートを削除しました。これは破壊的変更です。

Removed support for milliseconds (integer values) in TOML interval settings. This is a breaking change.

## 実装内容 / Implementation

1. **更新したモジュール**:
   - `src/interval_parser.py`: 整数・浮動小数点数によるミリ秒のサポートを削除。文字列の時間フォーマット（"1s", "2m", "3h", "0.5s"）のみをサポート
   - `src/config_loader.py`: ドキュメント文字列からミリ秒に関する記述を削除

2. **削除したテスト**:
   - `tests/test_interval_division.py`: ミリ秒の除算テスト専用ファイルを完全削除
   - `tests/test_interval_parser.py`: ミリ秒の後方互換性テストを削除
   - `tests/test_cat_file_watcher.py`: ミリ秒関連のテストメソッドを削除
   - `tests/test_new_interval_format.py`: 混合フォーマット（後方互換性）のテストを削除

3. **更新したテストファイル**: すべてのテストファイルのミリ秒指定を時間フォーマット文字列に変更
   - `default_interval = 1000` → `default_interval = "1s"`
   - `interval = 500` → `interval = "0.5s"`
   - `interval = 250` → `interval = "0.25s"`
   - `interval = 100` → `interval = "0.1s"`
   - `interval = 50` → `interval = "0.05s"`

## ドキュメント更新 / Documentation Updates

1. **README.ja.md**: 
   - ミリ秒の整数値、後方互換性に関する記述を削除
   - サンプルコードのミリ秒値を時間フォーマット文字列に変更

2. **README.md**: 
   - ミリ秒の整数値、後方互換性に関する記述を削除（英語版）
   - サンプルコードのミリ秒値を時間フォーマット文字列に変更

3. **examples/config.example.toml**: 
   - ミリ秒の後方互換性に関するコメントを削除

4. **examples/monitoring-group-example.toml**: 
   - すでに時間フォーマット文字列のみを使用していたため、変更不要

## テスト / Tests

- 削除前: 130テスト
- 削除後: 124テスト（6テスト削除）
- 結果: すべてのテストが成功

## 破壊的変更について / Breaking Changes

この変更により、以下のような既存の設定は動作しなくなります：

```toml
# 動作しなくなった形式 / No longer works
default_interval = 1000
config_check_interval = 500
"file.txt" = { command = "echo test", interval = 250 }
```

以下のように時間フォーマット文字列で指定する必要があります：

```toml
# 新しい形式 / New format required
default_interval = "1s"
config_check_interval = "0.5s"
"file.txt" = { command = "echo test", interval = "0.25s" }
```

## 理由 / Rationale

仕様のシンプル化を優先するための破壊的変更です。時間フォーマット文字列（"1s", "2m", "3h"）は以下の利点があります：

- より直感的で読みやすい
- 単位が明確（ミリ秒なのか秒なのか曖昧さがない）
- より人間に優しい表記

Prioritizing specification simplification. Time format strings ("1s", "2m", "3h") have the following advantages:

- More intuitive and readable
- Clear units (no ambiguity about milliseconds vs seconds)
- More human-friendly notation
