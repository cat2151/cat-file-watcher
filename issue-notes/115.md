# issue 500ms を指定しても動作しない #115
[issues #115](https://github.com/cat2151/cat-file-watcher/issues/115)

## 問題
interval欄に `500ms` を指定するとエラーになっていた。
以前は `s`, `m`, `h` のみがサポートされており、500ミリ秒を指定するには `0.5s` と書く必要があった。

## 解決策
`src/interval_parser.py` を修正し、ミリ秒単位 (`ms`) をサポートするようにした。

### 実装内容
1. **interval_parser.py の変更**
   - 正規表現パターンを `(s|m|h)` から `(ms|s|m|h)` に変更
   - ミリ秒を秒に変換するロジックを追加: `number / 1000.0`
   - エラーメッセージにミリ秒の例を追加

2. **テストの追加**
   - `tests/test_interval_parser.py` に新しいテストメソッド `test_parse_milliseconds` を追加
   - 500ms, 1000ms, 100ms, 250ms, 1ms, 2000ms, 50ms をテスト
   - 小数点のミリ秒もテスト (0.5ms, 1.5ms)
   - 無効フォーマットのテストから `"1ms"` を削除（現在は有効なため）

3. **ドキュメントの更新**
   - `examples/config.example.toml` を更新
   - コメントに `500ms` の例を追加
   - Example 4 を `0.5s` から `500ms` に変更

## 検証結果
- すべてのテスト（192件）が成功
- Ruff フォーマット: OK
- Ruff リント: OK
- CodeQL セキュリティチェック: 問題なし
- 手動テスト: `500ms` を指定した設定ファイルが正常に動作

## 使用例
```toml
# ミリ秒単位で指定可能
default_interval = "500ms"

[[files]]
path = "app.log"
command = "echo 'Log updated'"
interval = "250ms"

[[commands]]
command = "echo 'Periodic task'"
interval = "1000ms"
```

## 変換例
- `500ms` → 0.5 秒
- `1000ms` → 1.0 秒
- `250ms` → 0.25 秒
- `100ms` → 0.1 秒
- `1ms` → 0.001 秒

## 結論
ユーザーは `500ms` のように直感的な指定ができるようになり、
`0.5s` と書く必要がなくなった。
