# issue README.ja.mdのとおりに起動すると、何も出力されずに即code 0で終了してしまう #46
[issues #46](https://github.com/cat2151/cat-file-watcher/issues/46)

## 問題

README.ja.mdに記載されている起動コマンド `python src/cat_file_watcher.py --config-filename config.toml` を実行すると、何も出力されずに即座にexit code 0で終了する。

## 原因

リファクタリング時に、`src/cat_file_watcher.py` がモジュール専用ファイルに変更され、`if __name__ == "__main__"` ブロックが削除された。そのため、直接実行しても何も実行されずに終了していた。

正しいエントリポイントは `src/__main__.py` に移動していたが、README.ja.mdの更新が漏れていた。

## 解決策

`src/cat_file_watcher.py` に `if __name__ == "__main__"` ブロックを追加し、README.ja.md に記載されているコマンドで直接実行できるようにした。

これにより、以下の両方の方法でツールを起動できるようになった：
1. `python src/cat_file_watcher.py --config-filename config.toml` (README.ja.mdに記載の方法)
2. `python -m src --config-filename config.toml` (モジュールとして実行)

## 変更内容

`src/cat_file_watcher.py` の末尾に以下を追加：

```python
if __name__ == "__main__":
    import argparse

    parser = argparse.ArgumentParser(description="Monitor files and execute commands on timestamp changes")
    parser.add_argument("--config-filename", required=True, help="Path to the TOML configuration file")

    args = parser.parse_args()

    watcher = FileWatcher(args.config_filename)
    watcher.run()
```

## 検証

- ✅ `python src/cat_file_watcher.py --config-filename config.toml` が正常に動作
- ✅ `python -m src --config-filename config.toml` が引き続き動作
- ✅ 既存のテスト93件すべてが成功
- ✅ Ruffリンターが成功
- ✅ `--help` フラグで正しいヘルプメッセージが表示される
- ✅ `--config-filename` 引数が省略された場合、適切なエラーメッセージが表示される

## 結論

最小限の変更（`if __name__ == "__main__"` ブロックの追加のみ）で、README.ja.mdに記載されているコマンドが正常に動作するようになった。既存の機能に影響はなく、すべてのテストが合格している。
