# issue RuffによるformatをGitHub Actionsで自動実行させるようにする #67
[issues #67](https://github.com/cat2151/cat-file-watcher/issues/67)

## 実装内容

### 1. Ruffによるコードフォーマットの修正

既存のコードベースにRuffを適用し、以下の問題を修正:
- インポート文の並び替え（isort）
- 未使用のインポート削除（`colorama.Fore`）
- 空白行の整形
- コードフォーマットの統一

#### 修正したファイル
- `src/__init__.py`
- `src/command_executor.py`
- `src/interval_parser.py`
- `src/time_period_checker.py`
- `src/timestamp_printer.py`

### 2. GitHub Actions ワークフローの追加

`.github/workflows/ruff-check.yml` を作成し、以下の機能を実装:

#### トリガー条件
- **Pull Request時**: `src/**/*.py`, `tests/**/*.py`, `ruff.toml`, ワークフローファイル自体に変更がある場合
- **Push時**: `main`ブランチへのプッシュで、同じパスに変更がある場合

#### 実行内容
1. Python 3.11 環境のセットアップ
2. Ruff (>=0.6.0) のインストール
3. `ruff check src/` によるリンターチェック
4. `ruff format --check src/` によるフォーマットチェック

チェックが失敗した場合、PRのマージがブロックされます。

### 3. ドキュメントの更新

`README.ja.md` と `README.md` に「開発」セクションを追加:

#### 内容
- 環境構築の手順
- Ruffの使用方法（check, fix, format）
- CI/CDでの自動チェックの説明
- テストの実行方法

## 検証結果

### Ruffチェック
```
✓ ruff check src/ - All checks passed!
✓ ruff format --check src/ - 10 files already formatted
```

### テスト
```
✓ pytest - 138 passed in 36.19s
```

## 影響範囲

- **コードベース**: 軽微なフォーマット修正のみ、ロジックの変更なし
- **CI/CD**: 新しいチェックが追加され、コード品質が保証される
- **開発者**: PRを作成する前にローカルでRuffを実行することが推奨される

## 今後の拡張可能性

- テストファイル（`tests/`）へのRuffチェック追加も検討可能
- 自動修正機能（ruff fix + auto commit）の追加も検討可能（要チーム合意）

